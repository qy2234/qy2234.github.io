<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Instacart Dashboard</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.46.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Homepage</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">Academic and Professional Experience</a>
</li>
<li>
  <a href="flexdashboard.html">Flexdashboard</a>
</li>
<li>
  <a href="mailto:qiheng.y@columbia.edu">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/qy2234/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Instacart Dashboard</h1>

</div>


<pre class="r"><code>data(&quot;instacart&quot;)
set.seed(1)
most_ordered_aisle_ten_k =  
  instacart %&gt;%
  group_by(aisle) %&gt;%
  summarize(count = n()) %&gt;%
  arrange(desc(count)) %&gt;%
  filter(count &gt; 10000)</code></pre>
<div id="column" class="section level2" data-width="650">
<h2>Column</h2>
<div id="chart-a" class="section level3">
<h3>Chart A</h3>
<pre class="r"><code>## a interactive scatter plot that shows when was 100% Baby Kale ordered in a 24-hour cycle
most_ordered_aisle_ten_k %&gt;% 
  plot_ly(x = ~aisle, y = ~count, type = &quot;scatter&quot;, mode = &quot;markers&quot;,
          alpha = 0.5)</code></pre>
<div id="htmlwidget-f843a680a1fcd62a0dd1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f843a680a1fcd62a0dd1">{"x":{"visdat":{"aaf9316c79b2":["function () ","plotlyVisDat"]},"cur_data":"aaf9316c79b2","attrs":{"aaf9316c79b2":{"x":{},"y":{},"mode":"markers","alpha":0.5,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"aisle","type":"category","categoryorder":"array","categoryarray":["baby food formula","baking ingredients","bread","butter","candy chocolate","canned jarred vegetables","canned meals beans","cereal","chips pretzels","crackers","cream","dry pasta","eggs","energy granola bars","fresh dips tapenades","fresh fruits","fresh herbs","fresh vegetables","frozen meals","frozen produce","hot dogs bacon sausage","ice cream ice","juice nectars","lunch meat","milk","nuts seeds dried fruit","oils vinegars","other creams cheeses","packaged cheese","packaged produce","packaged vegetables fruits","paper goods","refrigerated","soft drinks","soup broth bouillon","soy lactosefree","spreads","water seltzer sparkling water","yogurt"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"count"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["fresh vegetables","fresh fruits","packaged vegetables fruits","yogurt","packaged cheese","water seltzer sparkling water","milk","chips pretzels","soy lactosefree","bread","refrigerated","ice cream ice","frozen produce","eggs","crackers","frozen meals","energy granola bars","lunch meat","soft drinks","cereal","fresh herbs","fresh dips tapenades","soup broth bouillon","juice nectars","packaged produce","baby food formula","baking ingredients","other creams cheeses","hot dogs bacon sausage","paper goods","canned jarred vegetables","nuts seeds dried fruit","cream","spreads","canned meals beans","candy chocolate","dry pasta","oils vinegars","butter"],"y":[150609,150473,78493,55240,41699,36617,32644,31269,26240,23635,23228,22676,22453,19875,19592,18221,17449,16957,16279,16201,16052,15142,15109,14350,13460,13198,13088,12820,12813,12694,12679,12532,12356,12102,11774,11453,11298,10620,10575],"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,0.5)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,0.5)"},"error_x":{"color":"rgba(31,119,180,0.5)"},"line":{"color":"rgba(31,119,180,0.5)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="column-1" class="section level2" data-width="350">
<h2>Column</h2>
<div id="chart-b" class="section level3">
<h3>Chart B</h3>
<pre class="r"><code>## Compare the time when 100% baby kale and acorn squash are ordered
kale_squash = 
  instacart %&gt;% 
  janitor::clean_names() %&gt;% 
  select(order_hour_of_day, product_name, aisle, department) %&gt;% 
  filter(aisle == &quot;fresh vegetables&quot;, product_name == c(&quot;100% Baby Kale&quot;, &quot;Acorn Squash&quot;))</code></pre>
<pre><code>## Warning in product_name == c(&quot;100% Baby Kale&quot;, &quot;Acorn Squash&quot;): longer
## object length is not a multiple of shorter object length</code></pre>
<pre class="r"><code>kale_squash %&gt;% 
  plot_ly(y = ~order_hour_of_day, color = ~product_name, type = &quot;box&quot;,
          colors = &quot;Set2&quot;)</code></pre>
<div id="htmlwidget-ba32e0541469b5ed4906" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba32e0541469b5ed4906">{"x":{"visdat":{"aaf9517add6c":["function () ","plotlyVisDat"]},"cur_data":"aaf9517add6c","attrs":{"aaf9517add6c":{"y":{},"color":{},"colors":"Set2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"order_hour_of_day"},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"fillcolor":"rgba(102,194,165,0.5)","y":[1,15,11,15,11,16,11,18,10,15,13,17,12,11,22,14,11,23,13,9,7,21,13,19,12,10,16],"type":"box","name":"100% Baby Kale","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(179,179,179,0.5)","y":[7,16,12,11,15,9,14,15,8,22,15,11,10,10,1,18,16,13,16,11,12,7,8,23,14,17,8,8,13,16,16,18,21,20,7,21,16,13,21,14,19,11,15,15,0,19,18,11],"type":"box","name":"Acorn Squash","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="chart-c" class="section level3">
<h3>Chart C</h3>
<pre class="r"><code>## Compare which vegetable is most popular among 4 
fresh_vege_data = 
  instacart %&gt;% 
  janitor::clean_names() %&gt;% 
  select(order_hour_of_day, product_name, aisle, department) %&gt;% 
  filter(aisle == &quot;fresh vegetables&quot;, product_name == c(&quot;100% Baby Kale&quot;, 
                                                        &quot;Acorn Squash&quot;, 
                                                        &quot;Anaheim Pepper&quot;,
                                                        &quot;Artichokes&quot;))</code></pre>
<pre><code>## Warning in product_name == c(&quot;100% Baby Kale&quot;, &quot;Acorn Squash&quot;, &quot;Anaheim
## Pepper&quot;, : longer object length is not a multiple of shorter object length</code></pre>
<pre class="r"><code>fresh_vege_data %&gt;% 
  count(product_name) %&gt;% 
  mutate(product_name = fct_reorder(product_name, n)) %&gt;% 
  plot_ly(x = ~product_name, y = ~n, type = &quot;bar&quot;)</code></pre>
<div id="htmlwidget-484ed42468d86de4a421" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-484ed42468d86de4a421">{"x":{"visdat":{"aaf971c19052":["function () ","plotlyVisDat"]},"cur_data":"aaf971c19052","attrs":{"aaf971c19052":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"product_name","type":"category","categoryorder":"array","categoryarray":["100% Baby Kale","Acorn Squash","Anaheim Pepper","Artichokes"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"n"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["100% Baby Kale","Acorn Squash","Anaheim Pepper","Artichokes"],"y":[14,22,25,91],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
